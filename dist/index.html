<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Colorado Snow Depth - Winter in Review (2018-19)</title>
    <link href="https://api.mapbox.com/mapbox-gl-js/v1.2.0/mapbox-gl.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round"" rel="stylesheet">
    <link href="/assets/styles/main.css"" rel="stylesheet">
  </head>

  <body>
    <section class="header">
      <h1>Colorado Snow Depth</h1>
      <h2>Winter in Review (2018-19)</h2>
    </section>

    <section class="main">
      <p>Daily snow depth (in inches) across the state of Colorado as measured at 200+ individual locations between October 1, 2018 and July 1, 2019.  Data courtesy of NRCS National Water and Climate center's <a href="https://www.wcc.nrcs.usda.gov/snow/">Snow Telemetry (SNOTEL)</a> and Snow Course Data and Products.</p>
      
      <div id="map-container" v-cloak>
        <play-controls 
          v-bind:date="date"
          v-on:play="play"
          v-on:pause="pause"
          v-on:swap-colors="swapColors"
        ></play-controls>
        <div id="map"></div>
        <h3>Snowiest Sites</h3>
        <p class="instructions">
          <i class="material-icons-round">info</i>
          Zoom and pan map to filter data to specific regions.
        </p>

        <data-table 
          v-bind:date="date"
          v-bind:sites="sites"
        ></data-table>
        </div>
      </div>
    </section>

    <section class="about">
      <h2>About</h2>
      <p>Built for fun to play with some new datasets and technologies.</p>
      <ul>
        <li>All data sourced from <a href="https://www.wcc.nrcs.usda.gov/snow/">SNOTEL</a> reports.</li>
        <li>Server API application built in PHP 7 using <a href="https://lumen.laravel.com/">Laravel Lumen</a> framework.</li>
        <li>Mapping provided via the <a href="https://docs.mapbox.com/mapbox-gl-js/api/">Mapbox</a> <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API">WebGL</a> API.</li>
        <li>Snow depth APIs return data in <a href="https://tools.ietf.org/html/rfc7946">GeoJSON</a> format in order to play nicely with the Mapbox API.</li>
        <li>Data stored in PostgreSQL.</li>
        <li>Client side application utilizing <a href="https://vuejs.org/">Vue.js</a> for interaction and reactivity.</li>
        <li>Static front end hosted via netlify, Postgres database and API application running at Heroku, all fronted by Cloudflare.</li>
      </ul>
      <h4>Source Code</h4>
      <ul>
        <li>API app <a href="https://github.com/bentaber/co-snow-api">github.com/bentaber/co-snow-api</a></li>
        <li>Client side <a href="https://github.com/bentaber/co-snow-ui">github.com/bentaber/co-snow-ui</a></li>
      </ul>
    </section>
    <section class="footer">
      <p>&copy; <a href="https://github.com/bentaber">Ben Taber</a>, 2019</p>
    </section>
  </body>

  <script src="https://api.mapbox.com/mapbox-gl-js/v1.2.0/mapbox-gl.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="/assets/scripts/data-table.vue.js"></script>
  <script src="/assets/scripts/play-controls.vue.js"></script>
  <script src="/assets/scripts/map.js"></script>

  <script>
    map(
      document.getElementById("map-container"),
      "http://192.168.1.6:8000/api/geoJSON/"
    );
  </script>


</html>
